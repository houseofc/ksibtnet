<h1>foo</h1>
<button id="list">List</button>

<script>
  var bluetoothDevice;
let serviceUuid = '7d0c1000-e156-4be7-ae55-8b2d90e3af9f';
let characteristicUuid = '7d0c1007-e156-4be7-ae55-8b2d90e3af9f';
var button = document.getElementById('list');

button.addEventListener('pointerup', function(event) {
  navigator.bluetooth.requestDevice({
  filters: [{
    services: [serviceUuid]
  }]
})
.then(device => {
    bluetoothDevice = device;
   // bluetoothDevice.addEventListener('gattserverdisconnected', onDisconnected);
    return bluetoothDevice.gatt.connect()
  })  
.then(server => {
  // Getting SAM Service...
  return server.getPrimaryService(serviceUuid);
})
.then(service => {
  // Getting netinfo  Characteristic...
  return service.getCharacteristic(characteristicUuid);
})
.then(characteristic => {
  // Reading netinfo ...
  return characteristic.readValue();
})
.then(value => {
  console.log('network info is ' + value.toString());
})
.then(bluetoothDevice.gatt.disconnect())
.catch(error => { console.log(error); });        
 })
    
  
</script>
